<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="using:FluentAvalonia.UI.Controls"
             xmlns:vm="using:SFP_UI.ViewModels"
             x:Class="SFP_UI.Pages.MainPage"
             x:DataType="vm:MainPageViewModel">
  <Grid>
    <DockPanel Margin="16">
      <DockPanel DockPanel.Dock="Bottom" Margin="15 0 0 0">
          <Button Margin="0 0 10 0"
                  IsEnabled="{Binding ButtonsEnabled}"
                  Command="{Binding OnPatchCommand}"
                  ToolTip.Tip="Patches Steam, enabling skin support based on your settings">Patch</Button>
          <Button Margin="0 0 10 0"
                  IsEnabled="{Binding ButtonsEnabled}"
                  IsVisible="{Binding !ScannerActive}"
                  Command="{Binding OnScanCommand}"
                  ToolTip.Tip="Starts scanning for changes to Steam, repatching as needed based on your settings">Start scanner</Button>
          <Button Margin="0 0 10 0"
                  IsEnabled="{Binding ButtonsEnabled}"
                  IsVisible="{Binding ScannerActive}"
                  Command="{Binding OnStopScanCommand}"
                  ToolTip.Tip="Stops scanning for changes to Steam">Stop Scanner</Button>
          <Button Margin="0 0 10 0"
                  IsEnabled="{Binding ButtonsEnabled}"
                  Command="{Binding OnResetSteamCommand}"
                  ToolTip.Tip="Resets Steam to stock, removing all patches">Reset Steam</Button>

          <DropDownButton Content="Open file"
                             HorizontalAlignment="Right"
                             Margin="0 0 15 0">
              <DropDownButton.Flyout>
                  <MenuFlyout Placement="Top">
                      <MenuItem Header="friends.custom.css"
                                Command="{Binding OnOpenFriendsCustomCssCommand}"
                                ToolTip.Tip="Opens the friends.custom.css file where your custom skin for the friends list goes"/>
                      <MenuItem Header="libraryroot.custom.css"
                                Command="{Binding OnOpenLibraryrootCustomCssCommand}"
                                ToolTip.Tip="Opens the libraryroot.custom.css file where your custom skin for the library goes"/>
                  </MenuFlyout>
              </DropDownButton.Flyout>
          </DropDownButton>
      </DockPanel>
      <Border BorderThickness="5">
        <ScrollViewer Margin="10">
          <TextBox Name="Output"
                   CaretIndex="{Binding CaretIndex}"
                   BorderThickness="0"
                   Focusable="False"
                   IsReadOnly="True"
                   TextWrapping="Wrap"
                   IsTabStop="False"
                   Text="{Binding Output, Mode=OneWay}" />
        </ScrollViewer>
      </Border>
    </DockPanel>
    <Border Grid.Column="1">
    </Border>
  </Grid>
</UserControl>
